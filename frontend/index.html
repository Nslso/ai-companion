<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Companion AI Assistant</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="logo">
                    <i class="fas fa-graduation-cap"></i>
                    AI Learning Assistant
                </h1>
                <div class="user-info">
                    <div class="user-id-display">
                        <span id="userId">ID: loading...</span>
                        <button id="copyUserId" class="btn-icon" title="Copy User ID">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3>üìä –ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è</h3>
                    <div class="progress-stats">
                        <div class="stat-item">
                            <span class="stat-label">–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π:</span>
                            <span id="interactionsCount" class="stat-value">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">–†–µ—à–µ–Ω–æ –∑–∞–¥–∞—á:</span>
                            <span id="problemsSolved" class="stat-value">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª:</span>
                            <span id="averageScore" class="stat-value">0</span>
                        </div>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>üéØ –¢–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</h3>
                    <div class="context-info">
                        <div class="context-item">
                            <span class="context-label">–¢–µ–º–∞:</span>
                            <span id="currentTopic" class="context-value">–ù–µ –≤—ã–±—Ä–∞–Ω–∞</span>
                        </div>
                        <div class="context-item">
                            <span class="context-label">–†–µ–∂–∏–º:</span>
                            <span id="learningMode" class="context-value">-</span>
                        </div>
                        <div class="context-item">
                            <span class="context-label">–£—Ä–æ–≤–µ–Ω—å:</span>
                            <span id="knowledgeLevel" class="context-value">-</span>
                        </div>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>üöÄ –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                    <div class="quick-actions">
                        <button id="generateProblemBtn" class="btn-secondary">
                            <i class="fas fa-puzzle-piece"></i>
                            –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞
                        </button>
                        <button id="showAnalyticsBtn" class="btn-secondary">
                            <i class="fas fa-chart-bar"></i>
                            –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
                        </button>
                        <button id="clearChatBtn" class="btn-secondary">
                            <i class="fas fa-trash"></i>
                            –û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç
                        </button>
                    </div>
                </div>
            </aside>

            <!-- Chat Area -->
            <main class="chat-area">
                <div class="chat-container">
                    <!-- Messages Container -->
                    <div id="messagesContainer" class="messages-container">
                        <div class="welcome-message">
                            <div class="message ai-message">
                                <div class="message-avatar">
                                    <i class="fas fa-robot"></i>
                                </div>
                                <div class="message-content">
                                    <h3>üëã –ü—Ä–∏–≤–µ—Ç! –Ø –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —É—á–µ–±–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç</h3>
                                    <p>–Ø –ø–æ–º–æ–≥—É –≤–∞–º –∏–∑—É—á–∞—Ç—å –Ω–æ–≤—ã–µ —Ç–µ–º—ã, —Ä–µ—à–∞—Ç—å –∑–∞–¥–∞—á–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ –æ–±—É—á–µ–Ω–∏–∏.</p>
                                    <div class="suggestions">
                                        <button class="suggestion-btn" data-message="–•–æ—á—É –∏–∑—É—á–∏—Ç—å Python">
                                            üêç –ò–∑—É—á–∏—Ç—å Python
                                        </button>
                                        <button class="suggestion-btn" data-message="–ü–æ–º–æ–≥–∏ —Å –º–∞—Ç–µ–º–∞—Ç–∏–∫–æ–π">
                                            üìä –ü–æ–º–æ—â—å —Å –º–∞—Ç–µ–º–∞—Ç–∏–∫–æ–π
                                        </button>
                                        <button class="suggestion-btn" data-message="–î–∞–π –º–Ω–µ –∑–∞–¥–∞—á—É –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é">
                                            üíª –ó–∞–¥–∞—á–∞ –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Input Area -->
                    <div class="input-area">
                        <div class="input-container">
                            <textarea 
                                id="messageInput" 
                                placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –∑–∞–¥–∞—á—É..." 
                                rows="1"
                            ></textarea>
                            <button id="sendMessageBtn" class="btn-primary">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                        <div class="input-hints">
                            <span>–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏, Shift+Enter –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏</span>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Analytics Modal -->
    <div id="analyticsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –æ–±—É—á–µ–Ω–∏—è</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h3>üìà –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å</h3>
                        <div id="generalStats" class="stats-container">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h3>üéØ –ò–∑—É—á–µ–Ω–Ω—ã–µ —Ç–µ–º—ã</h3>
                        <div id="topicsList" class="topics-container">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h3>‚ö†Ô∏è –ü—Ä–æ–±–µ–ª—ã –≤ –∑–Ω–∞–Ω–∏—è—Ö</h3>
                        <div id="knowledgeGaps" class="gaps-container">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h3>üìù –ò—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π</h3>
                        <div id="solutionsHistory" class="history-container">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="loading-spinner hidden">
        <div class="spinner"></div>
        <span>–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥—É–º–∞–µ—Ç...</span>
    </div>

    <script src="js/api.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
